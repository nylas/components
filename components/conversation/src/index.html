<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Conversation Demo</title>
    <link rel="shortcut icon" href="data:;base64,=" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />

    <script src="../../commons/index.js"></script>
    <script src="../index.js"></script>
  </head>

  <style>
    html {
      height: 100%;
      overflow: auto;
    }
    body {
      padding: 0;
      margin: 0;
      height: 100%;
    }
  </style>
  <!-- // If a list of messages is passed in manually
<script type="module">
  import { mockedMessages } from "./test-data.js";

  document.addEventListener("DOMContentLoaded", function () {
    const conversation = document.getElementsByTagName("nylas-conversation")[0];
    conversation.addEventListener("sendMessageClicked", function (e) {
      console.log("sendMessageClicked: ", e.detail.message)
    })
    conversation.messages = mockedMessages
  });
</script> -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const conversation = document.querySelector("nylas-conversation");
      const staticThreadID = "ak2q46em0srqkh7vri8f8vuqj";
      const staticMessages = [
        {
          account_id: "1xrddnl99frq3b7son9j32aba",
          bcc: [],
          cc: [
            {
              email: "pooja.g@nylas.com",
              name: "Pooja Guggari",
            },
          ],
          date: 1634858431,
          files: [],
          from: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          id: "affxolvozy2pcqh4303w7pc9n",
          labels: [
            {
              display_name: "TRASH",
              id: "6a5yymoenf5c8by1vsulv9mc3",
              name: "trash",
            },
            {
              display_name: "SENT",
              id: "17ocjrnqb2w5m402t1lwswkkl",
              name: "sent",
            },
          ],
          object: "message",
          reply_to: [],
          snippet: "Allo bonjour --Sent with Nylas",
          starred: false,
          subject: "Demo Thread",
          thread_id: "ak2q46em0srqkh7vri8f8vuqj",
          to: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          unread: false,
        },
        {
          account_id: "1xrddnl99frq3b7son9j32aba",
          bcc: [],
          cc: [
            {
              email: "pooja.g@nylas.com",
              name: "Pooja Guggari",
            },
          ],
          date: 1635184805,
          files: [],
          from: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          id: "80euq914iqwyutw3t5p68j1n2",
          labels: [
            {
              display_name: "TRASH",
              id: "6a5yymoenf5c8by1vsulv9mc3",
              name: "trash",
            },
            {
              display_name: "SENT",
              id: "17ocjrnqb2w5m402t1lwswkkl",
              name: "sent",
            },
          ],
          object: "message",
          reply_to: [],
          snippet: "Hey! --Sent with Nylas",
          starred: false,
          subject: "Demo Thread",
          thread_id: "ak2q46em0srqkh7vri8f8vuqj",
          to: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          unread: false,
        },
        {
          account_id: "1xrddnl99frq3b7son9j32aba",
          bcc: [],
          cc: [
            {
              email: "pooja.g@nylas.com",
              name: "Pooja Guggari",
            },
          ],
          date: 1635184811,
          files: [],
          from: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          id: "68wbmnw3bi4gu7iivlssek0h3",
          labels: [
            {
              display_name: "TRASH",
              id: "6a5yymoenf5c8by1vsulv9mc3",
              name: "trash",
            },
            {
              display_name: "SENT",
              id: "17ocjrnqb2w5m402t1lwswkkl",
              name: "sent",
            },
          ],
          object: "message",
          reply_to: [],
          snippet: "--Sent with Nylas",
          starred: false,
          subject: "Demo Thread",
          thread_id: "ak2q46em0srqkh7vri8f8vuqj",
          to: [
            {
              email: "nylascypresstest@gmail.com",
              name: "Test User",
            },
          ],
          unread: false,
        },
      ];

      // document.querySelector("nylas-conversation").id = "demo-conversation";
      // document.querySelector("nylas-conversation").thread_id = staticThreadID;
      document.querySelector("nylas-conversation").messages = staticMessages;
    });
  </script>

  <body>
    <nylas-conversation
      theme="ellsworth-kelly"
      show_avatars="true"
      show_reply="true"
    />

    <!-- If a list of messages is passed in manually -->
    <!-- <nylas-conversation theme="ellsworth-kelly" show_avatars="true" show_reply="true" /> -->
  </body>
</html>
